<html>
<head>

<title> Self-Play : The Battle of the Continental U.S.</title>
</head>

<body>



<center><h3>World Statistics for Game Year : <span id="txtRound">1</span> &nbsp-&nbsp Price per solidier : $<span id="txtPriceMan">10</span></h3></center>

<table width="817" border="1">
<tr>
<td width="301">


        <table  id="tblStats" width="300"  border="1" cellpadding="5">
 <h5>
         <tr>
                <td width="16%"><b>Country</b></td>
                <td width="16%"><b>Leader</b></td>
                <td width="16%"><b>Gold</b></td>
                <td width="16%"><b>Men</b></td>
                <td width="16%"><b>Skill</b></td>
                <td width="16%"><b>Economy</b></td>
        </tr>
        <tr>
                <td width="16%" id="1" >1</td>
                <td width="16%"><font color="#5A5A5A">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
        </tr>
        <tr>
        
                <td width="16%" id="2">2</td>
                <td width="16%">
                <font color="#FF0000">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
        </tr>
        <tr>
        
                <td width="16%" id="3">3</td>
                <td width="16%"><font color="#8F5100">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
        </tr>
        <tr>

                <td width="16%" id="4">4</td>
                <td width="16%">
                <font color="#F386EF">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>                
        </tr>
        <tr>

                <td width="16%" id="5">5</td>
                <td width="16%">
                <font color="#6A1D5B">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
        </tr>
        <tr>

                <td width="16%" id="6">6</td>
                <td width="16%">
                <font color="#056700">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
        <tr>

                <td width="16%" id="7">7</td>
                <td width="16%">
                <font color="#000A67">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
        <tr>

                <td width="16%" id="8">8</td>
                <td width="16%">
                <font color="#FE8F00">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
        <tr>

                <td width="16%" id="9">9</td>
                <td width="16%">
                <font color="#FEB9B2">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
        <tr>

                <td width="16%" id="10">10</td>
                <td width="16%">
                <font color="#0BEA00">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
        <tr>

                <td width="16%" id="11">11</td>
                <td width="16%">
                <font color="#BF0000">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
        <tr>

                <td width="16%" id="12">12</td>
                <td width="16%">
                <font color="#848484">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                <tr>

                <td width="16%" id="13">13</td>
                <td width="16%">
                <font color="#003678">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="14">14</td>
                <td width="16%">
                <font color="#1C7803">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="15">15</td>
                <td width="16%">
                <font color="#5E0378">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="16">16</td>
                <td width="16%">
                <font color="#2E7C3E">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="17">17</td>
                <td width="16%">
                <font color="#A70000">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="18">18</td>
                <td width="16%">
                <font color="#008AA7">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="19">19</td>
                <td width="16%">
                <font color="#00B9E1">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="20">20</td>
                <td width="16%">
                <font color="#237277">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
        
            <tr>

                <td width="16%" id="21">21</td>
                <td width="16%">
                <font color="#F409CB">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
        <tr>
                <td width="16%" id="22" >22</td>
                <td width="16%"><font color="#5A5A5A">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
        </tr>
        <tr>
        
                <td width="16%" id="23">23</td>
                <td width="16%">
                <font color="#FF0000">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
        </tr>
        <tr>
        
                <td width="16%" id="24">24</td>
                <td width="16%"><font color="#8F5100">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
        </tr>
        <tr>

                <td width="16%" id="25">25</td>
                <td width="16%">
                <font color="#F386EF">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>                
        </tr>
        <tr>

                <td width="16%" id="26">26</td>
                <td width="16%">
                <font color="#6A1D5B">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
        </tr>
        <tr>

                <td width="16%" id="27">27</td>
                <td width="16%">
                <font color="#056700">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
        <tr>

                <td width="16%" id="28">28</td>
                <td width="16%">
                <font color="#000A67">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
        <tr>

                <td width="16%" id="29">29</td>
                <td width="16%">
                <font color="#FE8F00">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
        <tr>

                <td width="16%" id="30">30</td>
                <td width="16%">
                <font color="#0BEA00">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
        <tr>

                <td width="16%" id="31">31</td>
                <td width="16%">
                <font color="#BF0000">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
        <tr>

                <td width="16%" id="32">32</td>
                <td width="16%">
                <font color="#848484">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                <tr>

                <td width="16%" id="33">33</td>
                <td width="16%">
                <font color="#003678">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="34">34</td>
                <td width="16%">
                <font color="#1C7803">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="35">35</td>
                <td width="16%">
                <font color="#5E0378">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="36">36</td>
                <td width="16%">
                <font color="#2E7C3E">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="37">37</td>
                <td width="16%">
                <font color="#A70000">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="38">38</td>
                <td width="16%">
                <font color="#008AA7">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="39">39</td>
                <td width="16%">
                <font color="#00B9E1">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                  <tr>

                <td width="16%" id="40">40</td>
                <td width="16%">
                <font color="#237277">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
        
            <tr>

                <td width="16%" id="41">41</td>
                <td width="16%">
                <font color="#F409CB">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>
         
        </tr>
                <tr>

                <td width="16%" id="42">42</td>
                <td width="16%">
                <font color="#FEB9B2">  <font color="black"></td>
                <td width="16%">??</td>
                <td bgcolor="#E3E3E3" width="16%">??</td>
                <td width="16%">??</td>
                <td width="16%">??</td>         
         
        </tr>
                                 
</table>

</td><td width="515">

<table border="0" cellspacing=0 cellpadding=0 valign="top">

<tr style="position: relative">
  <IMG id="im1" style="position: absolute; left:435; top:65; z-index:2; display:inline" src="Narz.gif" width="24" height="24"/>
  <IMG id="im2" style="position: absolute; left:465;   top:40; z-index:2; display:inline"  src="andrewgprv.gif"   width="24" height="24"/>
  <IMG id="im3" style="position: absolute; left:420;  top:100; z-index:2; display:inline"  src="ApocalypseKurtz.gif" width="24" height="24"/>
  <IMG id="im4" style="position: absolute; left:480; top:105;  z-index:2; display:inline"  src="archer007.gif" width="24" height="24"/>
  <IMG id="im5" style="position: absolute; left:480; top:130;  z-index:2; display:inline"  src="Baleog.gif" width="24" height="24"/>
  
  <IMG id="im6" style="position: absolute; left:430; top:145;  z-index:2; display:inline"  src="Bamspeedy.gif" width="24" height="24"/>
  <IMG id="im7" style="position: absolute; left:410; top:130;  z-index:2; display:inline" src="BiFrost.gif" width="24" height="24"/>
  <IMG id="im8" style="position: absolute; left:415;  top:170;  z-index:2; display:inline" src="Cloudyvortex.gif" width="24" height="24"/>
  <IMG id="im9" style="position: absolute; left:430; top:205;  z-index:2; display:inline" src="DeepTerror.gif" width="24" height="24"/>
  <IMG id="im10" style="position: absolute; left:390;  top:220;  z-index:2; display:inline" src="Dell19.gif" width="24" height="24"/>
  
  <IMG id="im11" style="position: absolute; left:415;  top:265;  z-index:2; display:inline"  src="DynamicCow.gif" width="24" height="24"/>
  <IMG id="im12" style="position: absolute; left:355;  top:210;  z-index:2; display:inline" src="Floppa21.gif" width="24" height="24"/>
  <IMG id="im13" style="position: absolute; left:330; top:220;  z-index:2; display:inline" src="FunxusKhan.gif" width="24" height="24"/>
  <IMG id="im14" style="position: absolute; left:305; top:255;  z-index:2; display:inline" src="G-Man.gif" width="24" height="24"/>
  <IMG id="im15" style="position: absolute; left:250; top:250;  z-index:2; display:inline" src="Globber.gif" width="24" height="24"/>
  
  <IMG id="im16" style="position: absolute; left:160; top:210;  z-index:2; display:inline" src="HakanEriksson.gif" width="24" height="24"/>
  <IMG id="im17" style="position: absolute; left:100; top:200;  z-index:2; display:inline" src="Hedgehog.gif" width="24" height="24"/>
  <IMG id="im18" style="position: absolute; left:40; top:170;  z-index:2; display:inline" src="HistoryBuff.gif" width="24" height="24"/>
  <IMG id="im19" style="position: absolute; left:60; top:130;  z-index:2; display:inline" src="Hitro.gif" width="24" height="24"/>
  <IMG id="im20" style="position: absolute; left:40; top:70;  z-index:2; display:inline" src="Insurgent.gif" width="24" height="24"/>
  
  <IMG id="im21" style="position: absolute; left:75; top:25; z-index:2; display:inline" src="KittenOfChaos.gif" width="24" height="24"/>
  <IMG id="im22" style="position: absolute; left:100;   top:80; z-index:2; display:inline"  src="LordDalaran.gif"   width="24" height="24"/>
  <IMG id="im23" style="position: absolute; left:140;  top:40; z-index:2; display:inline"  src="MacPenguin.gif" width="24" height="24"/>
  <IMG id="im24" style="position: absolute; left:160; top:100;  z-index:2; display:inline"  src="Mikoyan.gif" width="24" height="25"/>
  <IMG id="im25" style="position: absolute; left:110; top:140;  z-index:2; display:inline"  src="Newfangle.gif" width="24" height="24"/>
  
  <IMG id="im26" style="position: absolute; left:160; top:150;  z-index:2; display:inline"  src="Nixon.gif" width="24" height="24"/>
  <IMG id="im27" style="position: absolute; left:240; top:160;  z-index:2; display:inline" src="NRKworksBest.gif" width="24" height="24"/>
  <IMG id="im28" style="position: absolute; left:255;  top:190;  z-index:2; display:inline" src="OhWell.gif" width="24" height="24"/>
  <IMG id="im29" style="position: absolute; left:295; top:195;  z-index:2; display:inline" src="Panda.gif" width="24" height="24"/>
  <IMG id="im30" style="position: absolute; left:350;  top:180;  z-index:2; display:inline" src="Perfection.gif" width="24" height="24"/>
  
  <IMG id="im31" style="position: absolute; left:375;  top:155;  z-index:2; display:inline"  src="Pug.gif" width="24" height="24"/>
  <IMG id="im32" style="position: absolute; left:375;  top:120;  z-index:2; display:inline" src="Ren.gif" width="24" height="24"/>
  <IMG id="im33" style="position: absolute; left:350; top:125;  z-index:2; display:inline" src="SeanLindstrom.gif" width="24" height="24"/>
  <IMG id="im34" style="position: absolute; left:320; top:125;  z-index:2; display:inline" src="Switch.gif" width="24" height="24"/>
  <IMG id="im35" style="position: absolute; left:290; top:160;  z-index:2; display:inline" src="Toasty.gif" width="24" height="24"/>
  
  <IMG id="im36" style="position: absolute; left:225; top:120;  z-index:2; display:inline" src="Unknown.gif" width="24" height="24"/>
  <IMG id="im37" style="position: absolute; left:220; top:80;  z-index:2; display:inline" src="VanillaCube.gif" width="24" height="24"/>
  <IMG id="im38" style="position: absolute; left:220; top:45;  z-index:2; display:inline" src="Vrylakas.gif" width="24" height="24"/>
  <IMG id="im39" style="position: absolute; left:285; top:110;  z-index:2; display:inline" src="WildFire.gif" width="24" height="24"/>
  <IMG id="im40" style="position: absolute; left:270; top:60;  z-index:2; display:inline" src="WillJ.gif" width="35" height="20"/>
  
  <IMG id="im41" style="position: absolute; left:315; top:80;  z-index:2; display:inline" src="WolfeTone.gif" width="24" height="24"/> 
  <IMG id="im42" style="position: absolute; left:350; top:70;  z-index:2; display:inline" src="YodaPower.gif" width="24" height="24"/> 

  
  
  
  
  <td id="map" width="514" height="350" style="top:1">
    <img src="USAmap.gif" width="514" height="330" style="z-index:1" />
    
    <span id="btNextRound"><button onClick="runRound()">Start Game</button></span>
    
  </td>
</tr>
</table>

<table border="1">

<tr>
<td width="150" height="650" valign="top" id="txtActions">
<p>This is where the country actions are announced
</p>
</td>

<td width="150" height="750" valign="top">
 <span id="txtBattles">
  <p>This is where battles are announced.</p>
 </span>
 <span id="picBattle" style = "display: none"><img src="Battle1.gif"/></span>
</td>

<td width="150" height="750" valign="top">
 <span id='BattleStats'>
   This is where the viewer could watch as the battle happened.<br>
  </span>

</td>

</tr>
</table>
</table>

<script language="JavaScript">
var rounds = 0;
var CNT_COUNTRIES = 42;

var gleaders = new Array ( {leader:'Narz',    fcolr: '#5A5A5A', count:1},
                           {leader:'andrewgprv',      fcolr: '#FF0000', count:1},
                           {leader:'ApocalypseKurtz', fcolr: '#8F5100', count:1},
                           {leader:'archer007',   fcolr: '#F386EF', count:1},
                           {leader:'Baleog',    fcolr: '#6A1D5B', count:1},
                           
                           {leader:'Bamspeedy', fcolr: '#056700', count:1},
                           {leader:'BiFrost', fcolr: '#000A67', count:1},
                           {leader:'Cloudyvortex', fcolr: '#FE8F00', count:1},
                           {leader:'DeepTerror', fcolr: '#FEB9B2', count:1},
                           {leader:'Dell19', fcolr: '#0BEA00', count:1},
                           
                           {leader:'DynamicCow',    fcolr: '#BF0000', count:1},
                           {leader:'Floppa21',    fcolr: '#848484', count:1},
                           {leader:'FunxusKhan',    fcolr: '#003678', count:1},
                           {leader:'G-Man',    fcolr: '#1C7803', count:1},
                           {leader:'Globber',    fcolr: '#5E0378', count:1},
                           
                           {leader:'HakanEriksson',    fcolr: '#2E7C3E', count:1},
                           {leader:'Hedgehog',    fcolr: '#A70000', count:1},
                           {leader:'HistoryBuff',    fcolr: '#008AA7', count:1},
                           {leader:'Hitro',    fcolr: '#00B9E1', count:1},
                           {leader:'Insurgent',     fcolr: '#237277', count:1},
                           
                           {leader:'KittenOfChaos',     fcolr: '#F409CB', count:1},
                           {leader:'LordDalaran',    fcolr: '#5A5A5A', count:1},
                           {leader:'MacPenguin',      fcolr: '#FF0000', count:1},
                           {leader:'Mikoyan', fcolr: '#8F5100', count:1},
                           {leader:'Newfangle',   fcolr: '#F386EF', count:1},
                           
                           {leader:'Nixon',    fcolr: '#6A1D5B', count:1},
                           {leader:'NRKworksBest', fcolr: '#056700', count:1},
                           {leader:'OhWell', fcolr: '#000A67', count:1},
                           {leader:'Panda', fcolr: '#FE8F00', count:1},
                           {leader:'Perfection', fcolr: '#FEB9B2', count:1},
                           
                           {leader:'Pug', fcolr: '#0BEA00', count:1},
                           {leader:'Ren',    fcolr: '#BF0000', count:1},
                           {leader:'SeanLindstrom',    fcolr: '#848484', count:1},
                           {leader:'Switch',    fcolr: '#003678', count:1},
                           {leader:'Toasty',    fcolr: '#1C7803', count:1},
                           
                           {leader:'Unknown',    fcolr: '#5E0378', count:1},
                           {leader:'VanillaCube',    fcolr: '#2E7C3E', count:1},
                           {leader:'Vrylakas',    fcolr: '#A70000', count:1},
                           {leader:'WildFire',    fcolr: '#008AA7', count:1},
                           {leader:'WillJ',    fcolr: '#00B9E1', count:1},
                           
                           {leader:'WolfeTone',     fcolr: '#237277', count:1},
                           {leader:'YodaPower',     fcolr: '#F409CB', count:1}
                           );


var gcountries =      new Array( {name:'1' , name2:'New York', objleader:gleaders[0],men:Math.floor( (Math.random() * 2000000) % 110 + 75 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:447, y:77, nbr: new Array(1, 2, 3)},
                                 {name:'2' , name2:'New England', objleader:gleaders[1],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:477, y:42, nbr: new Array(1)},
                                 {name:'3' , name2:'Pennsyvania', objleader:gleaders[2],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:432, y:112, nbr: new Array(0, 3, 4, 6, 31)},
                                 {name:'4' , name2:'New Jersey', objleader:gleaders[3],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:492, y:117, nbr: new Array(0, 2, 4)},
                                 {name:'5' , name2:'Maryland/Delaware/Wash-D.C.', objleader:gleaders[4],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:492, y:142, nbr: new Array(2, 3, 5, 6)},
                                 
                                 {name:'6' , name2:'Virginia', objleader:gleaders[5],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:442, y:157, nbr: new Array(4, 6, 7, 29, 30)},
                                 {name:'7' , name2:'WestVirginia', objleader:gleaders[6],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:422, y:142, nbr: new Array(2, 4, 5, 30, 31)},
                                 {name:'8' , name2:'North Carolina', objleader:gleaders[7],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:427, y:182, nbr: new Array(5, 8, 9, 29)},
                                 {name:'9' , name2:'South Carolina', objleader:gleaders[8],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:442, y:217, nbr: new Array(7, 9)},
                                 {name:'10' , name2:'Georgia', objleader:gleaders[9],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:402, y:232, nbr: new Array(7, 8, 10, 11, 29)},
                                 
                                 {name:'11' , name2:'Florida', objleader:gleaders[10],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:427, y:277, nbr: new Array(9, 11)},
                                 {name:'12' , name2:'Alabama', objleader:gleaders[11],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:367, y:222, nbr: new Array(9, 10, 12, 29)},
                                 {name:'13' , name2:'Mississippi', objleader:gleaders[12],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:342, y:232, nbr: new Array(11, 13, 28, 29)},
                                 {name:'14' , name2:'Louisiana', objleader:gleaders[13],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:317, y:267, nbr: new Array(12, 14, 28)},
                                 {name:'15' , name2:'Texas', objleader:gleaders[14],men:Math.floor( (Math.random() * 2000000) % 110 + 55 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:262, y:262, nbr: new Array(13, 15, 27, 28)},
                                 
                                 {name:'16' , name2:'New Mexico', objleader:gleaders[15],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:172, y:222, nbr: new Array(14, 16, 25, 27)},
                                 {name:'17' , name2:'Arizona', objleader:gleaders[16],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:112, y:212, nbr: new Array(15, 17, 18, 24, 25)},
                                 {name:'18' , name2:'California', objleader:gleaders[17],men:Math.floor( (Math.random() * 2000000) % 110 + 55 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:52, y:182, nbr: new Array(16, 18, 19)},
                                 {name:'19' , name2:'Nevada', objleader:gleaders[18],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:72, y:142, nbr: new Array(16, 17, 19, 21, 24)},    
                                 {name:'20' , name2:'Oregon', objleader:gleaders[19],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:52, y:82, nbr: new Array(17, 18, 20, 21)},
                                 
                                 {name:'21' , name2:'Washington', objleader:gleaders[20],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:87, y:37, nbr: new Array(19, 21)},
                                 {name:'22' , name2:'Idaho', objleader:gleaders[21],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:112, y:92, nbr: new Array(18, 19, 20, 22, 23)},
                                 {name:'23' , name2:'Montana', objleader:gleaders[22],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:152, y:52, nbr: new Array(21, 23, 36, 37)},
                                 {name:'24' , name2:'Wyoming', objleader:gleaders[23],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:172, y:112, nbr: new Array(21, 22, 24, 25, 35, 36)},
                                 {name:'25' , name2:'Utah', objleader:gleaders[24],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:122, y:152, nbr: new Array(16, 18, 21, 23, 25)},
                                 
                                 {name:'26' , name2:'Colorado', objleader:gleaders[25],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:172, y:162, nbr: new Array(15, 16, 23, 24, 26, 27, 35)},
                                 {name:'27' , name2:'Kansas', objleader:gleaders[26],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:252, y:172, nbr: new Array(25, 27, 34, 35)},
                                 {name:'28' , name2:'Oklahoma', objleader:gleaders[27],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:267, y:202, nbr: new Array(14, 15, 25, 26, 28, 34)},
                                 {name:'29' , name2:'Arkansas', objleader:gleaders[28],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:307, y:207, nbr: new Array(12, 13, 14, 27, 29, 34)},
                                 {name:'30' , name2:'Tennesse', objleader:gleaders[29],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:362, y:192, nbr: new Array(5, 7, 9, 11, 12, 28, 30, 34)},
                                 
                                 {name:'31' , name2:'Kentucky', objleader:gleaders[30],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:387, y:167, nbr: new Array(5, 6, 29, 31, 32, 33, 34)},
                                 {name:'32' , name2:'Ohio', objleader:gleaders[31],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:387, y:132, nbr: new Array(2, 6, 30, 32, 41)},
                                 {name:'33' , name2:'Indiana', objleader:gleaders[32],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:362, y:137, nbr: new Array(30, 31, 33, 41)},
                                 {name:'34' , name2:'Illinois', objleader:gleaders[33],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:332, y:137, nbr: new Array(30, 32, 34, 38, 40)},
                                 {name:'35' , name2:'Missouri', objleader:gleaders[34],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:302, y:172, nbr: new Array(26, 27, 28, 29, 30, 33, 35, 38)},
                                 
                                 {name:'36' , name2:'Nebraska', objleader:gleaders[35],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:237, y:132, nbr: new Array(23, 25, 26, 34, 36, 38)},
                                 {name:'37' , name2:'South Dakota', objleader:gleaders[36],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:232, y:92, nbr: new Array(22, 23, 35, 37, 38, 39)},
                                 {name:'38' , name2:'North Dakota', objleader:gleaders[37],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:232, y:57, nbr: new Array(22, 36, 39)},
                                 {name:'39' , name2:'Iowa', objleader:gleaders[38],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:297, y:122, nbr: new Array(33, 34, 35, 36, 39, 40)},    
                                 {name:'40' , name2:'Minnesota', objleader:gleaders[39],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:282, y:72, nbr: new Array(36, 37, 38, 40)},
                                 
                                 {name:'41' , name2:'Wisconsin', objleader:gleaders[40],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:327, y:92, nbr: new Array(33, 38, 39, 41)},
                                 {name:'42' , name2:'Michigen', objleader:gleaders[41],men:Math.floor( (Math.random() * 2000000) % 110 + 35 ), skill:Math.floor( (Math.random() * 2000000) % 25 + 25 ), economy:Math.floor( (Math.random() * 2000000) % 151 + 174 ), gold:Math.floor( (Math.random() * 2000000) % 51 + 49 ), x:362, y:82, nbr: new Array(31, 32, 40)}
                               );
gcountries[1].nbr[0] = 0;

var g_ind_att;

function runRound()
{
 txtActions.innerHTML = '' , txtBattles.innerHTML = '', txtRound.innerHTML = ''; BattleStats.innerHTML = '';

 if (!conquered(gcountries))
 {
  txtRound.innerHTML = ++rounds ;
  txtPriceMan.innerHTML = get_price_man(true);  //price should fluctuate at every turn
	if (rounds > 1) collect_taxes(gcountries);
  print_stats(gcountries);

  setTimeout("goCountry(0)", 300);

//  for (ind_att=0;ind_att < 1; ++ind_att)
//  {
//  }

 }
 else
    alert(gcountries[0].objleader.leader + ' has conquered the world!  Game Year : ' + rounds);
}

function goCountry(ind_att)
{
 var ind_defender=-1; var bfighting = false;
 ind_defender = -1;
 ind_defender = determine_defender(gcountries, ind_att);
 if ( ind_defender != -1 && should_fight(gcountries[ind_att],gcountries[ind_defender]) )
 {
   txtActions.innerHTML  = '<img align="left" src="' + gcountries[ind_att].objleader.leader + '.gif"/><BR/>';
   txtActions.innerHTML += gcountries[ind_att].objleader.leader + ' from ' + gcountries[ind_att].name2 + ' decides to fight ';
   txtActions.innerHTML += ' with ' +  gcountries[ind_defender].objleader.leader + ' in ' + gcountries[ind_defender].name2 + '.' ;
   picBattle.style.display = "inline";
   bfighting = true; g_ind_att= ind_att;
   fight( gcountries[ind_att], gcountries[ind_defender] );
 }
 else
 {
   txtActions.innerHTML = ''; BattleStats.innerHTML = ''; txtBattles.innerHTML = '';
   prepare( gcountries[ind_att] );
 }


 if (ind_att < CNT_COUNTRIES - 1 && !bfighting)
    setTimeout("goCountry(" + ++ind_att + ")",500);
 else if (!bfighting)
   {
   Ind_att = 0;
   g_ind_att = 0;
   runRound();
   }
}

function conquered(countries)
{
  var same=0, icount=0;
  for(; icount< CNT_COUNTRIES - 1 ; ++icount)
   {
    if( countries[icount].objleader.leader == countries[icount + 1].objleader.leader)
       ++same;
    else
      --same;
   }

  if(same == CNT_COUNTRIES - 1)
    return true;
  else
    return false;
}

var cost_man = 10 ;  //no static variables in JavaScript

function get_price_man(update)
{
  if (update)
    cost_man = Math.floor((cost_man - 3 + (((Math.random() * 2000000) % 7) + 1)));

  if (cost_man > 50)
  	cost_man=50;
  	
  if (cost_man < 5)
  	cost_man=5;	

    return cost_man;
}

function collect_taxes(countries)
{
  for (i=0 ; i < CNT_COUNTRIES ; ++i)
    countries[i].gold += Math.floor(countries[i].economy/5.0);
}

function determine_defender(countries, ind_att)
{
 var ind_defender = -1;
 var ind;

 //determine country with minimum count of men
var min = countries[ind_att].men; //default
var nbr = countries[ind_att].nbr;

for(ind = 0; ind < nbr.length; ++ind)
 {
    if(   (countries[ind_att].objleader.leader != countries[nbr[ind]].objleader.leader)
       && (countries[ind_att].men > (countries[nbr[ind]].men * 1.5) )
       && (countries[nbr[ind]].men < min) )
    {
      min = countries[nbr[ind]].men;
      ind_defender = nbr[ind];
    }
  }

  return ind_defender;
}

function should_fight(att, def)
{
 var percent = Math.floor( (att.men / def.men) * 10.0);
 
 if (percent > 25)
 {
 percent += 5
 }
 else
 {
 percent -= 5
 }
 if ( ((att.economy + att.gold) / (def.economy + def.gold)) > 2)
   percent-=15;
 else if ( (def.economy + def.gold) >= ((att.economy + att.gold) * 2) )
   percent+=15;	 
 
 var random  = Math.floor( ( (Math.random() * 2000000) % 100) + 1);

 if (percent > random) return true;
 else return false;
}

var g_att, g_def, g_att_assigned, g_total_skill;

function fight(att, def)
{
 var outstr = '';
 var att_force_random = Math.floor( ( (Math.random() * 2000000) % 11) + 1);
 att_force_random = att_force_random / 100
 att_force_random = att_force_random + .64
 var att_assigned = Math.floor(att.men * att_force_random); //between 65 and 75% of soldiers attack
 att.men -= att_assigned //deduct men from attacking country
 var total_skill = att.skill + def.skill;
 
 txtBattles.innerHTML = ''; BattleStats.innerHTML = '';
 outstr += att.objleader.leader + ' from ' + att.name2 + ' (' + att.name + ') has invaded ' ;
 outstr += def.objleader.leader + ' in '   + def.name2 + ' (' + def.name + ') !! <BR/>' ;
 print_stats(gcountries);
 
 //<embed src="SWRDHORS.AIFF" autostart="true" loop="false" hidden=true></embed>
 
 txtBattles.innerHTML += outstr + 'The Battle rages....<BR/>' ;

 g_att = att; g_def = def; g_att_assigned = att_assigned; g_total_skill = total_skill;
 fight_men();
}

function fight_men()
{
 var outstr = '';

 if( (g_att_assigned > 0) && (g_def.men > 0) )
 {
   var random = Math.floor( (Math.random() * 2000000) % g_total_skill + 1);
   if (random <= g_att.skill)
     {
       g_def.men -= 1;
       
     }
   else
     {
       g_att_assigned -= 1;

     }
  }

  if (g_def.men == 0) //attacker won
  {
    g_def.skill = g_att.skill + 5  //attacker's skill rises 5 points
    g_def.men += g_att_assigned;  //attackers men stay to protect defeated country
    outstr += g_def.objleader.leader + "\'s army has been defeated. <BR/>";
    outstr += 'Country ' + g_def.name + ' : ' + g_def.name2 + ' passes to ' + g_att.objleader.leader + '<BR/>' ;
    --(g_def.objleader.count) ;
    ++(g_att.objleader.count);
    if (g_def.objleader.count == 0) outstr += '<font color="red">' + g_def.objleader.leader + ' has been annihilated! <font color="black"> <BR/>' ;
    g_def.objleader = g_att.objleader; //country changes hands
    document.all("im" + g_def.name).src = document.all("im" + g_att.name).src;
    document.all("im" + g_def.name).width = document.all("im" + g_att.name).width;
    document.all("im" + g_def.name).height = document.all("im" + g_att.name).height;
    document.all("im" + g_def.name).style.top = g_def.y - (document.all("im" + g_def.name).height /2);
    document.all("im" + g_def.name).style.left = g_def.x - (document.all("im" + g_def.name).width /2);
    print_stats();
    //eval("im_" + g_def.name + ".src= g_att.objleader.colorfile");
    setTimeout("BattleStats.innerHTML = ''",1000);
    picBattle.style.display = "none";
    if (g_ind_att < CNT_COUNTRIES - 1)
         setTimeout("goCountry(" + (g_ind_att + 1) + ")",2500);
  	  else
   		{
   		g_ind_att = 0;
   		runRound();
   		}
  }
  else if(g_att_assigned == 0)    //defender won
  {
    g_def.skill += 5;
    outstr += g_att.objleader.leader + "\'s army has been defeated.<BR/>";
    outstr += g_def.objleader.leader + ' holds on to ' + g_def.name + '<BR/>';
    setTimeout("BattleStats.innerHTML = ''",1000);
    picBattle.style.display = "none";
    if (g_ind_att < CNT_COUNTRIES -1)
       setTimeout("goCountry(" + (g_ind_att + 1) + ")",2500);
  	  else
   		{
   		g_ind_att = 0;
   		runRound();
   		}

  }
  else
   setTimeout("fight_men()", 1);

  txtBattles.innerHTML += outstr;
}

function print_stats(countries)
{
//write each row
//write the map

 var i, cells;
 var rows = tblStats.rows;

 for (i=1; i < CNT_COUNTRIES + 1 ; ++i)
  {
    cells = rows[i].cells;
    cells[1].innerHTML= '<font color=\"' +  gcountries[i - 1].objleader.fcolr + '\">' + gcountries[i - 1].objleader.leader + '</font>' ;
    //cells[1].bgColor= gcountries[i - 1].color;
    cells[2].innerHTML= gcountries[i - 1].gold;
    cells[3].innerHTML= gcountries[i - 1].men;
    cells[4].innerHTML= gcountries[i - 1].skill;
    cells[5].innerHTML= gcountries[i - 1].economy;
  }

}

// Here (in the prepare function) I just removed the outstr's so the player doesn't know what
// the computer opponents are up to.  Also I decreased the delay.

function prepare(att, selchoice, selvalue)
{
  var choice;
  var args;
  var max_eco = 5000;
  
    if (args > 1)
      choice = selchoice;
  else
  {
  if ( NoHostileNbrs(att) && att.men >=50 )
	  choice = 4;
	else if (att.men < 25)
    choice = 1;
  else if (att.economy == max_eco)
    choice = Math.floor( (Math.random() * 2000000) % 2 + 1 );
  else
    choice = Math.floor( (Math.random() * 2000000) % 3 + 1 );
  }

  var hire = 0, outstr='';

  outstr = '<img align="left" src="' + att.objleader.leader + '.gif"/><BR/>';
  outstr +=  "Country " + att.name + ' : ' + att.name2 + ', ' + att.objleader.leader + "\'s turn<BR/>";
  outstr += att.objleader.leader + ' moves ';
  switch(choice)
  {
    case 1:
      hire = Math.floor(att.gold / get_price_man() );
      att.men += hire;
      att.gold -= hire * get_price_man();
			break;

   case 2:
      random = Math.floor( (Math.random() * 2000000) % 3 + 1);
      att.skill += 3 + random; //goes up to 4-6 points
			break;

   case 3:
      var diff = (max_eco - att.economy) * 2;
      if (diff < att.gold)
      {
       att.gold-=diff;
       att.economy = max_eco;
      }
      else
      {
        att.economy += Math.floor(att.gold / 2);
        
    if( Math.floor(att.gold/2) < att.gold/2)
     	att.gold=1;
    else
      	att.gold = 0;
  
      }
			break;
			 
		case 4:
	    var indnbr = Math.floor( (Math.random() * 2000000) % att.nbr.length + 1);
	    gcountries[att.nbr[indnbr - 1]].men += att.men - 25 ;
			att.men= 25; 
	 }

   print_stats(gcountries);
   txtActions.innerHTML += outstr;
}

function NoHostileNbrs(att)
{
  var ind, nohostile = true;
	for(ind = 0; ind < att.nbr.length; ++ind)
    if(att.objleader.leader != gcountries[att.nbr[ind]].objleader.leader)
       { nohostile =  false; break; }
	
	return nohostile		 
}

function waitsec(sec)
{
  var mydate= new Date();
  while (secofday(new Date) <  secofday(mydate) + sec ) ;   //loops for 'sec' seconds
}

function secofday(dt)
{
 return (dt.getHours() * 3600 + dt.getMinutes() * 60 + dt.getSeconds());

}

function FurtherInfo()
{
    
    if (orders['econ'].checked)
         {
                 var econNum = window.showModalDialog("0Popups/Econ.html",
            "dialogHeight: 50px; dialogWidth: 500px; dialogTop: 0px;" +
                "dialogLeft: 0px; center: Yes; help: Yes; resizable: Yes;" +
                " status: Yes;");
  alert('The return value is:' + econNum);
        }      
       
    else if (orders['men'].checked)
         {
                 var hireNum = window.showModalDialog("0Popups/Men.html",
            "dialogHeight: 50px; dialogWidth: 500px; dialogTop: 0px;" +
                "dialogLeft: 0px; center: Yes; help: Yes; resizable: Yes;" +
                " status: Yes;");
 alert('The return value is:' + hireNum);
        }    

//training code should work now
       
    else if (orders['train'].checked)
prepare(g_att, 2);

       
    else if (orders['war'].checked)
         {
                 var hireNum = window.showModalDialog("0Popups/War.html",
            "dialogHeight: 50px; dialogWidth: 500px; dialogTop: 0px;" +
                "dialogLeft: 0px; center: Yes; help: Yes; resizable: Yes;" +
                " status: Yes;");
// With the War and Move commands the modal window has to return two values (which country
// to move to (or attack) and how many men.
        }   
        
    else if (orders['move'].checked)
         {
                 var hireNum = window.showModalDialog("0Popups/Move.html",
            "dialogHeight: 50px; dialogWidth: 500px; dialogTop: 0px;" +
                "dialogLeft: 0px; center: Yes; help: Yes; resizable: Yes;" +
                " status: Yes;");
// With the War and Move commands the modal window has to return two values (which country
// to move to (or attack) and how many men.
        }   
        

      
        else if (orders['spy'].checked)
         {
                 var spyNum = window.showModalDialog("0Popups/Spy.html",
            "dialogHeight: 50px; dialogWidth: 500px; dialogTop: 0px;" +
                "dialogLeft: 0px; center: Yes; help: Yes; resizable: Yes;" +
                " status: Yes;");
 alert('The return value is:' + spyNum);
        }   
        
}

</script>
</body>
</html>